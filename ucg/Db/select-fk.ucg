.template on
IF OBJECT_ID('dbo.$(../@name:sql)_SelectBy_$(@name:sql)') IS NULL
	EXEC('CREATE PROC dbo.$(../@name:sql)_SelectBy_$(@name:sql) AS RETURN 1')
GO

ALTER PROC dbo.$(../@name:sql)_SelectBy_$(@name:sql)
.foreach ../field[@pk='true']
	@$(@name:sql) $(@db-type??@type)$(",":~)
.endfor
AS
SELECT 
.foreach ../field
	[$(@name:sql)]$(",":~)
.endfor
FROM dbo.$(../@name:sql)
WHERE 
	[$(@name:sql)] = @$(@name:sql)
GO